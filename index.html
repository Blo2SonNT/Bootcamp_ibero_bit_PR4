<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <button class="btn btn-dark" onclick="secuencia(1)">1</button>
        <button class="btn btn-dark" onclick="secuencia(2)">2</button>
        <button class="btn btn-dark" onclick="secuencia(3)">3</button>
        <button class="btn btn-dark" onclick="secuencia(4)">4</button>
        <button class="btn btn-dark" onclick="secuencia(5)">5</button>
        <button class="btn btn-dark" onclick="secuencia(6)">6</button>
        <button class="btn btn-dark" onclick="secuencia(7)">7</button>
        <button class="btn btn-dark" onclick="secuencia(8)">8</button>
        <button class="btn btn-dark" onclick="secuencia(9)">9</button>
        <div id="secuenciaTotal"></div>
        <canvas id="myChart"></canvas>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script>
        /*

                        function secuencia(numero) {
                            let resultado = 0
                            if (numero != 1) {
                                console.log(numero)
                                if (numero % 2 == 0) {
                                    resultado = numero / 2
                                    document.querySelector("#secuenciaTotal").innerHTML += `${resultado} <br>`
                                    secuencia(resultado)
                                } else {
                                    resultado = (numero * 3) + 1
                                    document.querySelector("#secuenciaTotal").innerHTML += `${resultado} <br>`
                                    secuencia(resultado)
                                }
                            }
                            
                        }

                */

        function secuencia(numero, cantidadOperaciones = 0, arrayDataset = []) {
            let resultado = 0
            let datasetsChart = arrayDataset;
            if (numero != 1) {
                console.log(numero)
                if (numero % 2 == 0) {
                    resultado = numero / 2
                    document.querySelector("#secuenciaTotal").innerHTML += `${resultado} <br>`
                    datasetsChart.push(resultado)
                    cantidadOperaciones++
                    secuencia(resultado, cantidadOperaciones, datasetsChart)
                } else {
                    resultado = (numero * 3) + 1
                    document.querySelector("#secuenciaTotal").innerHTML += `${resultado} <br>`
                    datasetsChart.push(resultado)
                    cantidadOperaciones++
                    secuencia(resultado, cantidadOperaciones, datasetsChart)
                }
            } else {
                const ctx = document.getElementById('myChart');

                let labelsChart = []
                for (let x = 0; x <= cantidadOperaciones; x++) {
                    labelsChart.push(x)
                }

                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labelsChart,
                        datasets: [{
                            label: '# of Votes',
                            data: datasetsChart,
                            borderWidth: 1
                        }]
                    }
                });
            }

        }

        function borrarContenido() {
            document.querySelector("#secuenciaTotal").innerHTML = ''
        }
    </script>


    <div class="container">
        <div>
        </div>


        <script>
        </script>
    </div>


</body>

</html>